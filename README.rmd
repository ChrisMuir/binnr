---
title: "README"
output: md_document
---

```{r setup, include=FALSE}
library(binnr)
knitr::opts_chunk$set(echo = TRUE)
```

## Overview

binnr is an R package that supports the creation, modification, and management
of scorecard models. The primary building blocks of a binnr model are objects
called bins. Bins are created from an independent variable and a binary response.
Continuious variables are discretized using a fast, greedy algorithm. Factors
are not collapsed but benefit from bin operations nonetheless.

The standard workflow of building models with binnr is outlined below:

1. Bin the data using the `bin` function
2. Modify the bins for predictiveness and palatability using the `adjust` function
3. Fit a logistic regression model using the `fit` function
4. Measure model performance and repeat steps 2-3 as necessary

### 1. Bin the data

`bin` can be used on a `data.frame` or vector components. The easiest way is to 
provide a `data.frame` of independent predictors and a response vector of 1s and
0s. This will return a `bin.list` object which is a collection of bins.

```{r makebins, results='hide'}
bins <- bin(titanic[,-1], titanic$Survived)
```

```{r showbins}
bins
```

A summary of the bins can be printed easily with the `summary` funciton:

```{r summarybins}
# only showing the first six columns for space
summary(bins)[,1:6]
```


### 2. Adjust the bins

Bins often need to be manipulated. Levels may need to be collapsed, expanded,
neutralized, or otherwise massaged to make a palatable model. The `adjust` 
function provides all of these capabilities and is the main engine of scorecard
development in `binnr`.

Calling `adjust` on certain binnr objects will create an interactive session
where commands may be entered to manipulate bins.

#### Collapse continuous

```{r collapseNumeric, out.width=c('400px','400px'), fig.show='hold'}
# - 2:5
plot(bins$Age)
plot(bins$Age - 2:5)
```

#### Expand continuous

```{r expandNumeric, out.width=c('400px','400px'), fig.show='hold'}
# + 3
plot(bins$Parch)
plot(bins$Parch + 3)
```

#### Collapse discrete

```{r collapseDiscrete, out.width=c('400px','400px'), fig.show='hold'}
# - 1:3
# Alternatively use: - c(1,2,3)
plot(bins$Embarked)
plot(bins$Embarked - 1:3)
```


### 3. Fit the bins

```{r fitmod, results='hide'}
mod <- fit(bins)
```

```{r showmod}
mod
```
